<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modal Calendrier - Coders4Africa</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#2563eb',
                        secondary: '#3b82f6',
                        accent: '#10b981',
                        darkblue: '#1e40af',
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 50%, #d1fae5 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .gradient-text {
            background: linear-gradient(90deg, #2563eb, #10b981);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .modal {
            transition: all 0.3s ease;
            opacity: 0;
            visibility: hidden;
        }
        
        .modal.active {
            opacity: 1;
            visibility: visible;
        }
        
        .modal-content {
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }
        
        .modal.active .modal-content {
            transform: scale(1);
        }
        
        .calendar-container {
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
        }
        
        .calendar-header {
            background: linear-gradient(to right, #2563eb, #10b981);
        }
        
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background-color: #e5e7eb;
        }
        
        .calendar-day {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .calendar-day:hover {
            transform: scale(1.02);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .event-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 4px;
        }
        
        .event-card {
            transition: all 0.3s ease;
        }
        
        .event-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .active-date {
            background: linear-gradient(to right, #2563eb, #10b981);
            color: white;
        }
        
        .has-event {
            background-color: #f0f9ff;
            border: 1px solid #bfdbfe;
        }
        
        .filter-btn {
            transition: all 0.3s ease;
        }
        
        .filter-btn.active, .filter-btn:hover {
            background: linear-gradient(to right, #2563eb, #10b981);
            color: white;
        }
        
        .calendar-nav-btn {
            transition: all 0.3s ease;
        }
        
        .calendar-nav-btn:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }
        
        .open-modal-btn {
            transition: all 0.3s ease;
            box-shadow: 0 10px 25px rgba(37, 99, 235, 0.3);
        }
        
        .open-modal-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(37, 99, 235, 0.4);
        }
    </style>
</head>
<body>
    <!-- Bouton pour ouvrir le modal -->
    <button id="openModal" class="open-modal-btn fixed top-6 right-6 bg-gradient-to-r from-blue-600 to-green-500 text-white font-bold py-3 px-6 rounded-full z-10">
        <i class="fas fa-calendar-alt mr-2"></i> Voir le calendrier
    </button>

    <!-- Modal -->
    <div id="calendarModal" class="modal fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4">
        <div class="modal-content max-w-4xl w-full max-h-[90vh] overflow-hidden">
            <div class="calendar-container bg-white rounded-2xl overflow-hidden">
                <!-- En-tête du modal -->
                <div class="flex justify-between items-center p-4 border-b border-gray-200">
                    <h2 class="text-xl font-bold text-gray-800">Calendrier des <span class="gradient-text">Événements</span></h2>
                    <button id="closeModal" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <!-- Contenu du modal -->
                <div class="p-4 overflow-y-auto max-h-[80vh]">
                    
                    
                    <!-- Calendrier -->
                    <div class="mb-6">
                        <!-- En-tête du calendrier -->
                        <div class="calendar-header text-white p-4 flex justify-between items-center">
                            <button id="prev-month" class="calendar-nav-btn w-8 h-8 rounded-full flex items-center justify-center">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <h3 id="current-month" class="text-xl font-bold">Octobre 2023</h3>
                            <button id="next-month" class="calendar-nav-btn w-8 h-8 rounded-full flex items-center justify-center">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                        
                        <!-- Jours de la semaine -->
                        <div class="grid grid-cols-7 bg-gray-100">
                            <div class="p-2 text-center text-gray-600 font-medium text-sm">Lun</div>
                            <div class="p-2 text-center text-gray-600 font-medium text-sm">Mar</div>
                            <div class="p-2 text-center text-gray-600 font-medium text-sm">Mer</div>
                            <div class="p-2 text-center text-gray-600 font-medium text-sm">Jeu</div>
                            <div class="p-2 text-center text-gray-600 font-medium text-sm">Ven</div>
                            <div class="p-2 text-center text-gray-600 font-medium text-sm">Sam</div>
                            <div class="p-2 text-center text-gray-600 font-medium text-sm">Dim</div>
                        </div>
                        
                        <!-- Grille du calendrier -->
                        <div class="calendar-grid" id="calendar-grid">
                            <!-- Les jours seront générés dynamiquement en JavaScript -->
                        </div>
                    </div>
                    
                    <!-- Événements du jour sélectionné -->
                    <div>
                        <h3 id="selected-date" class="font-bold text-gray-700 mb-4">Sélectionnez une date pour voir les événements</h3>
                        <div id="events-container" class="space-y-3">
                            <!-- Les événements seront chargés dynamiquement -->
                        </div>
                    </div>
                </div>
                
              
            </div>
        </div>
    </div>

    <script>
        // Données des événements (simulées)
        const eventsData = [
            {
                id: 1,
                title: "Hackathon Innovation Africaine",
                date: "2023-10-05",
                endDate: "2023-10-06",
                time: "09:00 - 18:00",
                type: "hackathons",
                location: "Abidjan, Côte d'Ivoire",
                excerpt: "48h pour développer des solutions tech innovantes pour l'Afrique",
                color: "bg-blue-500"
            },
            {
                id: 2,
                title: "Atelier Data Science",
                date: "2023-10-12",
                time: "10:00 - 16:00",
                type: "ateliers",
                location: "Lomé, Togo",
                excerpt: "Initiation aux outils d'analyse de données et machine learning",
                color: "bg-green-500"
            },
            {
                id: 3,
                title: "Formation Développement Web",
                date: "2023-10-15",
                endDate: "2023-10-20",
                time: "09:00 - 17:00",
                type: "formations",
                location: "Cotonou, Bénin",
                excerpt: "Maîtrisez les frameworks JavaScript modernes",
                color: "bg-purple-500"
            },
            {
                id: 4,
                title: "Conférence sur l'IA en Afrique",
                date: "2023-10-22",
                time: "14:00 - 18:00",
                type: "conferences",
                location: "Dakar, Sénégal",
                excerpt: "L'Intelligence Artificielle au service du développement africain",
                color: "bg-red-500"
            },
            {
                id: 5,
                title: "Workshop UX/UI Design",
                date: "2023-10-25",
                time: "10:00 - 15:00",
                type: "ateliers",
                location: "Yaoundé, Cameroun",
                excerpt: "Concevez des interfaces utilisateur exceptionnelles",
                color: "bg-yellow-500"
            },
            {
                id: 6,
                title: "Hackathon Santé Digitale",
                date: "2023-11-03",
                endDate: "2023-11-04",
                time: "09:00 - 18:00",
                type: "hackathons",
                location: "Nairobi, Kenya",
                excerpt: "Solutions tech pour améliorer l'accès aux soins de santé",
                color: "bg-blue-500"
            }
        ];

        document.addEventListener('DOMContentLoaded', function() {
            const modal = document.getElementById('calendarModal');
            const openModalBtn = document.getElementById('openModal');
            const closeModalBtn = document.getElementById('closeModal');
            
            // Ouvrir le modal
            openModalBtn.addEventListener('click', function() {
                modal.classList.add('active');
                document.body.style.overflow = 'hidden';
            });
            
            // Fermer le modal
            closeModalBtn.addEventListener('click', function() {
                modal.classList.remove('active');
                document.body.style.overflow = 'auto';
            });
            
            // Fermer le modal en cliquant à l'extérieur
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.classList.remove('active');
                    document.body.style.overflow = 'auto';
                }
            });
            
            // Fermer le modal avec la touche Échap
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && modal.classList.contains('active')) {
                    modal.classList.remove('active');
                    document.body.style.overflow = 'auto';
                }
            });
            
            // Initialisation du calendrier
            let currentDate = new Date();
            let currentMonth = currentDate.getMonth();
            let currentYear = currentDate.getFullYear();
            
            const monthNames = ["Janvier", "Février", "Mars", "Avril", "Mai", "Juin",
                               "Juillet", "Août", "Septembre", "Octobre", "Novembre", "Décembre"];
            
            const calendarGrid = document.getElementById('calendar-grid');
            const currentMonthElement = document.getElementById('current-month');
            const eventsContainer = document.getElementById('events-container');
            const selectedDateElement = document.getElementById('selected-date');
            // const filterButtons = document.querySelectorAll('.filter-btn');
            
            let activeFilter = 'all';
            let selectedDate = null;
            
            // Initialisation
            renderCalendar(currentMonth, currentYear);
            
            // Navigation du calendrier
            document.getElementById('prev-month').addEventListener('click', function() {
                currentMonth--;
                if (currentMonth < 0) {
                    currentMonth = 11;
                    currentYear--;
                }
                renderCalendar(currentMonth, currentYear);
            });
            
            document.getElementById('next-month').addEventListener('click', function() {
                currentMonth++;
                if (currentMonth > 11) {
                    currentMonth = 0;
                    currentYear++;
                }
                renderCalendar(currentMonth, currentYear);
            });
            
            // // Filtres
            // filterButtons.forEach(button => {
            //     button.addEventListener('click', function() {
            //         filterButtons.forEach(btn => btn.classList.remove('active'));
            //         this.classList.add('active');
            //         activeFilter = this.getAttribute('data-filter');
                    
            //         if (selectedDate) {
            //             showEventsForDate(selectedDate);
            //         }
            //     });
            // });
            
            // Fonction pour afficher le calendrier
          
            // Fonction pour obtenir les événements d'une date spécifique
            function getEventsForDate(dateStr) {
                let events = eventsData.filter(event => {
                    // Vérifier si l'événement commence à cette date
                    if (event.date === dateStr) return true;
                    
                    // Vérifier si l'événement est en cours sur plusieurs jours
                    if (event.endDate) {
                        const eventStart = new Date(event.date);
                        const eventEnd = new Date(event.endDate);
                        const currentDate = new Date(dateStr);
                        
                        return currentDate >= eventStart && currentDate <= eventEnd;
                    }
                    
                    return false;
                });
                
                // Appliquer le filtre
                if (activeFilter !== 'all') {
                    events = events.filter(event => event.type === activeFilter);
                }
                
                return events;
            }
            
            // Fonction pour afficher les événements d'une date spécifique
            function showEventsForDate(dateStr) {
                selectedDate = dateStr;
                const events = getEventsForDate(dateStr);
                const date = new Date(dateStr);
                const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                const formattedDate = date.toLocaleDateString('fr-FR', options);
                
                selectedDateElement.textContent = `Événements du ${formattedDate}`;
                
                if (events.length === 0) {
                    eventsContainer.innerHTML = `
                        <div class="text-center py-4 text-gray-500">
                            <i class="fas fa-calendar-day text-2xl mb-2"></i>
                            <p>Aucun événement prévu pour cette date</p>
                        </div>
                    `;
                    return;
                }
                
                let eventsHTML = '';
                
                events.forEach(event => {
                    eventsHTML += `
                        <div class="event-card bg-gray-50 rounded-lg p-4 border-l-4 ${event.color}">
                            <h4 class="font-bold text-gray-800 text-sm">${event.title}</h4>
                            <div class="flex items-center text-xs text-gray-600 mt-1">
                                <i class="far fa-clock mr-1"></i>
                                <span>${event.time}</span>
                                <i class="fas fa-map-marker-alt ml-2 mr-1"></i>
                                <span>${event.location}</span>
                            </div>
                            <p class="text-xs text-gray-700 mt-2">${event.excerpt}</p>
                        </div>
                    `;
                });
                
                eventsContainer.innerHTML = eventsHTML;
            }
        });
    </script>
</body>
</html>